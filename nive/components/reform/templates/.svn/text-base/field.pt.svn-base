<div tal:condition="field.widget.hidden">
  <span tal:replace="structure field.serialize(cstruct)"/>
</div>

<div tal:condition="not field.widget.hidden"
    title="${field.description}"
    id="item-${field.oid}" 
    class="${field.error and field.widget.error_class} fieldRow ${field.name}" 
    i18n:domain="poolyx">
  <!-- mapping_item -->
  <label tal:condition="field.widget.category != 'structural'"
         class="desc fieldName"
         title="${field.description}"
         for="${field.oid}"
         ><span tal:content="field.title" />
          <span tal:condition="field.required" 
                class="req" id="req-${field.oid}">*</span>
  </label>
  <div class="fieldEdit">
    <span tal:replace="structure field.serialize(cstruct)"/>
    <div tal:condition="field.error and not field.widget.hidden"
       tal:define="errstr 'error-%s' % field.oid"
       tal:repeat="msg field.error.messages()"
       tal:attributes="id repeat.msg.index==0 and errstr or
                       ('%s-%s' % (errstr, repeat.msg.index))"
       class="${field.widget.error_class}" i18n:translate="">${msg}</div>
  </div>
  <div tal:condition="field.widget.category != 'structural'"
       tal:content="structure field.description" class="fieldDescription"></div>
  <span class="clear"/>

  <!-- /mapping_item -->
</div>
