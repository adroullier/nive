from zope.interface import implements

import unittest
from Poolyx.cms.app import WebsitePublisher
from Poolyx.definitions import *

from Poolyx.cms.tests.db_app import *
from Poolyx.components.objects.base import PageBase

from Poolyx.cms.workflow.wf import *
from Poolyx.cms.workflow.view import *

class testpage(object):
    implements(IPage)


class wfTest(unittest.TestCase):
    
    def setUp(self):
        pass

    def tearDown(self):
        pass

    def test_wfconf(self):
        self.assert_(len(wfProcess.test())==0)
        
    def test_include(self):
        app = WebsitePublisher()
        app.Register(wfProcess)
        self.assert_(app.GetWorkflowConf(wfProcess.id, testpage())[0].id==wfProcess.id)

    def test_wfviewconf(self):
        self.assert_(len(configuration.test())==0)
